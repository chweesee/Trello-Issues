[Archived] Discord becomes unresponsive and causes your whole device to lag when attempting to connect a Reddit account (https://trello.com/c/PQyGlIac)

P3 - Will be fixed eventually

Created: 2019-03-13T08:25:15.927Z
Latest Update: 2019-04-12T21:30:03.201Z

Reported by J1#0088

####Steps to reproduce:
- have the official Reddit app installed and set as a default app to manage Reddit links 
- in discord, go to Settings > Connections 
- click on Add then choose Reddit

####Expected result:
it should open the account linking page in browser
####Actual result:
it attempt to start the Reddit app instead and it fails causing discord to become unresponsive and affecting your whole OS to the point where you can't even force close discord or Reddit
####Client settings:
Alpha 856
####System settings:
Samsung Galaxy Note 8, Android 9.0

30828

Card Log
========
### Added by Bug Bot on 2019-03-13T08:25:15.927Z


### Can reproduce.
Can reproduce. It gives a black screen for me. I could not do anything on my device. Had to pull out battery and put back in to make it respond. Lenovo Vibe K5+, 5.1.1 | Discord Alpha 856

The Lunala#6877 - Bug Bot on 2019-03-13T08:25:23.288Z


### Can reproduce.
CR. Intex Aqua N7, Android 5 App Information - 8.5.6

Stardust#2476 - Bug Bot on 2019-03-13T08:25:28.270Z


### Can reproduce.
CR ,Lenovo TB3-701F, 5.0.1 ,discord 8.5.6 (beta)

Quad#1887 - Bug Bot on 2019-03-13T08:25:33.298Z


### Can reproduce.
Samsung Galaxy Note 9 (8.1.0) | Discord Alpha 8.5.6 | Make sure to go to your reddit app settings and toggle off "open web links in-app." Crashed whole phone

Clay#0001 - Bug Bot on 2019-03-13T08:33:37.304Z


### Can reproduce.
Samsung Galaxy S8, Android 8.0.0, Discord Alpha 8.5.6

SerbianPG#2287 - Bug Bot on 2019-03-13T10:16:13.242Z


### Can't reproduce.
CNR, Samsung Galaxy J5 2016, Android 7.1.1, Discord 8.5.6

Jean20B#4287 - Bug Bot on 2019-03-13T11:54:50.059Z


### I have very precise information about this bug report.
Prerequisites for reproducing this bug:
- You must not have reddit.com links already configured to open with a certain app by default
- You must disable in-app Chrome custom tabs in Reddit app settings

Explanation:
When you don't have a default app selected to open reddit.com links, you will get this prompt: https://cdn.discordapp.com/attachments/420995378582913030/555302780932194304/IMG_20190313_091413.jpg You should have two options, "Always" which defines an app as default for opening reddit.com links, "Only once" to not set an app as default. If you select Reddit app then "Only once", you will notice that the prompt immediately reopens. But if you select "Always", this is where it's very bad, because it will enter in an infinite loop. Basically, things internally go like this:
1) Discord opens the prompt to ask whether you want to open the link in Reddit app or not
2) You select Reddit app and hit "Always"
3) Reddit app opens, but then Reddit app will realize it can't open the link. So it will reopen this prompt, to ask whether you want to try with a "different" app ("different" being between quotes because the Reddit app itself is also among the options). Since you already specified in step 2 that you want the Reddit app to always open reddit.com links, it will reopen the Reddit app... But reddit app can't open the link! So it will reopen the prompt again, etc. You see the infinite loop there?

And since the loop operates at the OS level (the prompt is invoked by the app but is generated by the system), it will make the whole device crash.

Alex1304#9704 - Bug Bot on 2019-03-13T12:47:19.984Z


### Can reproduce.
CR. Alpha 8.5.6 Samsung Galaxy S7, Android 8.0.0

Toasty#0001 - Bug Bot on 2019-03-13T13:11:00.875Z


### Can reproduce.
Asus Zenfone 2 Deluxe (ZE551ML), Android 6.0.1, Discord Alpha 8.5.6

Frances Picard#6209 - Bug Bot on 2019-03-13T13:15:18.381Z


### Can reproduce.
CR; Redmi Note 4, Android v7, Discord Alpha 8.5.6

Skyla#0002 - Bug Bot on 2019-03-13T14:34:07.246Z


### Can reproduce.
Samsung S8, Android 9.0, 8.5.6

Mr. Proper#2394 - Bug Bot on 2019-03-13T15:33:40.501Z


### Can reproduce.
Samsung Galaxy Ace 3, Android 8.0.0, Discord Alpha 8.5.6

Lelantos#4866 - Bug Bot on 2019-03-13T20:45:25.004Z


### Moved from User Reported Bugs to Verified Bugs by Clayton on 2019-03-13T21:16:04.191Z


### Archived by Bug Bot on 2019-04-12T21:30:03.213Z

List
====
Verified Bugs

Members
=======
None
